<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="../assets/css/fontawesome-all.min.css" />
    <title>CRYPT0SPAZE</title>    
    <style>
        .fas::after { font-family: Verdana}
        *, ::before, ::after { box-sizing: border-box; }
        body{ color:steelblue; background:black; text-align:center; font-family:Verdana; }
        .menuBtn{
            background: #27182e;
            margin: 0.222em;
            padding: 0.444em;
            border-radius: 13px;
            font-family: Verdana
        }
        .menuBtn:hover{ border-radius:10px; border:1px solid steelblue; cursor: pointer; }
    </style>
</head>
<body>
    <script>


        </script>
<section style="padding: 0.444em;">
    <span style="font-weight:bold; font-family:impact; color:steelblue; letter-spacing:0.222em;text-shadow: 1px 1px 1px white;">EPICs:</span>
    <button id="NavBtn1" class="menuBtn" onclick="menuFn(event)"}>
        <i class="fas fa-home" style="color:darkorange">&nbsp;WEBz</i></a>
    <button id="NavBtn2" class="menuBtn" onclick="menuFn(event)"}>
        <i class="fas fa-photo-video" style="color:lightskyblue">&nbsp;CARDz</i></a>
    <button id="NavBtn3"  class="menuBtn" onclick="menuFn(event)"}>
        <i class="fas fa-book" style="color:darkseagreen">&nbsp;HEROz</i></a>
    <button id="NavBtn4"  class="menuBtn" onclick="menuFn(event)"}>
        <i class="fas fa-music" style="color:mediumpurple">&nbsp;JAMz</i></a>
    <button id="NavBtn5"  class="menuBtn" onclick="menuFn(event)"}>
        <i class="fas fa-video" style="color:indianred">&nbsp;VIDz</i></a>
    <button id="NavBtn6"  class="menuBtn" onclick="menuFn(event)"}>
        <i class="fas fa-asterisk" style="color:rgb(153 74 241);">&nbsp;ALL</i></a>
     <!--<a href="#main" class="button"><i class="fas fa-film" style="color:darkorange">&nbsp;</i>BYTEz</a> -->
    <!-- <a href="#main" class="button"><i class="fas fa-book" style="color:lightskyblue">&nbsp;</i>TXTz</a> -->
</section>
    


<section style="padding: 0.444em; font-size:0.888em;">
    
    <span style="font-weight:bold; font-family:impact; color:steelblue; letter-spacing:0.222em;text-shadow: 1px 1px 1px purple;">NFTs:</span>
    <a href="#main" class="button"><i class="fas fa-asterisk" style="color:darkorange">&nbsp;OpenSea</i></a>
    <a href="#main" class="button"><i class="fas fa-asterisk" style="color:lightskyblue">&nbsp;ETH</i></a>
    <a href="#main" class="button"><i class="fas fa-asterisk" style="color:darkseagreen">&nbsp;SOL</i></a>
    <a href="#main" class="button"><i class="fas fa-asterisk" style="color:mediumpurple">&nbsp;ADA</i></a>
    <a href="#main" class="button"><i class="fas fa-asterisk" style="color:indianred">&nbsp;MATIC</i></a>
    <a href="#main" class="button"><i class="fas fa-asterisk" style="color:rgb(153 74 241);">&nbsp;ALL</i></a>
        
</section>  
<script>

</script>
<header style="padding:0.666em;">
    <section>
        <span style="    font-size:1.444em; font-weight:bold; font-family:impact; color:steelblue; letter-spacing:0.0888em;text-shadow: 1px 1px 1px purple;">NFT~COLLECTION:&nbsp;</span>
        <span>___ALL____</span>
    </section>
    <section style="padding:0.777em;">
        <span style="    font-size:1.222em; font-weight:bold; font-family:impact; color:steelblue; letter-spacing:0.0888em;text-shadow: 1px 1px 1px white;">NFT~ARTIST:&nbsp;</span>
        <span>___spazeFalcon___</span>
    </section>
    <section id="statusDisplay1" style="font-size: 0.666em;">rendering ETH NFTs from OpenSea.</section>
    <!-- <section id="statusDisplay1">< ~ ></section> -->
</header>
<article>
    <section id="nftDisplay1" style="padding:0.222em; border:1px solid darkslateblue; border-radius:13px;"> </section>
</article>   
</body>
<script>
// let mainView = null;
// const loginButton = document.getElementById('loginBtn')
const nftDisplay1 = document.getElementById('nftDisplay1')
// const statusDisplay1 = document.getElementById('statusDisplay1')
class MainVw {
    constructor(account){
        this.userAccount = account;
        this.eth = window.ethereum;
        this.wurldz = 0x46f3397433384f2e31262596642c811929d6c069;  //virtua wurldz opensea collection
        this.contract = 0x495f947276749Ce646f68AC8c248420045cb7b5e; //contract address for doc cozmo NFT
        this.tokenId = 32091639769859466206787752406743660124435242419967811135209154768441297600513  //doc cozmo
        this.creator = 0x5b3256965e7C3cF26E11FCAf296DfC8807C01073; //spazefalcon
        this.txnHash = 0x7d0512fa5e19d2d775bb55efe9b5e9960cc59f9c67c627b1f5eb22a5749162f2; //creator transaction hash
    }
}

function menuFn(e){ //ALL MENU BEHAVIOR in 1 FACTORY fn.
    switch (e.target.parentElement.id){
        case 'NavBtn1' : window.open("https://netcinematics.github.io/CRYPTOSPAZE/", '_blank'); ; break;
        case 'NavBtn2' : MainVw.getNFTFactory(2); break;
        case 'NavBtn3' : MainVw.getNFTFactory(3); break;
        case 'NavBtn4' : MainVw.getNFTFactory(4); break;
        case 'NavBtn5' : MainVw.getNFTFactory(5); break;
        case 'NavBtn6' : MainVw.getNFTFactory(6); break;
        case 'NavBtn7' : MainVw.getNFTFactory(7); break;
        case 'NavBtn8' : MainVw.getNFTFactory(8); break;
        case 'NavBtn9' : MainVw.getNFTFactory(9); break;
        case 'NavBtn10' : MainVw.getNFTFactory(10); break;
        case 'NavBtn11' : MainVw.getNFTFactory(11); break;
        case 'NavBtn12' : MainVw.getNFTFactory(12); break;
        default : return;
    }
}

function initPage(){
/***************************************************************************************************\
 * META - ability for page to override and change dynamically-. - : )
\***************************************************************************************************/
/***************************************************************************************************\
 * GETDATA - all types of data requestFunctions here-. - : )
\***************************************************************************************************/
    function getNFTFactory(mode){
        try{
            if (nftDisplay1) { nftDisplay1.innerHTML = ""; } //BLANK data view-.
            if(mode===2){  //cardz

            } else if(mode===3){  //heroz

            } else if(mode===4){  //jamz

            } else if(mode===5){  //vidz

            } else if(mode===6 || mode===12){ //DISPLAY ALL-.
                //****************************************************************************
                let getNFTbyContractAndToken={  //GETNFT by Contract and tokenId.
                    assetContractAddr:"0x495f947276749Ce646f68AC8c248420045cb7b5e", 
                    tokenId:"32091639769859466206787752406743660124435242419967811135209154768441297600513"}
                // getNFT(getNFTbyContractAndToken)
                //****************************************************************************
                let getNFTSbyOwner={  //GETNFTS by Owner. - PLURAL NFTZ MULTIPLE!
                    owner:"0x46f3397433384f2e31262596642c811929d6c069"}
                getNFTs(getNFTSbyOwner.owner)
                //*********************************************************//OpenSea API : getNFTs (multiple) 
                let getNFTCollectionsbyOwner={  //GETNFT Collections by Owner. - PLURAL COLLECTIONZ MULTIPLE!    
                    owner:"0x46f3397433384f2e31262596642c811929d6c069"}   
                getNFTCollections(getNFTCollectionsbyOwner.owner)
                //****************************************************************************
            }
        // }); //END: GETNFT button click-.
        }catch(e){
            // statusDisplay1.innerHTML = "ERROR"+" no signal."; //e.message;
        }
    }
    MainVw.getNFTFactory = getNFTFactory; //Connect to main scope-.

     function getNFT(nftFactory){
        // example:
        // let nftFactory={
        //     assetContractAddr:"0x495f947276749Ce646f68AC8c248420045cb7b5e",
        //     tokenId:"32091639769859466206787752406743660124435242419967811135209154768441297600513"}
        // OpenSea API: //https://api.opensea.io/api/v1/asset/{asset_contract_address}/{token_id}/
        fetch(`https://api.opensea.io/api/v1/asset/${nftFactory.assetContractAddr}/${nftFactory.tokenId}/`,{method:'GET'})
        .then(response => { return response.json() })
        .then(data => { console.log(data) })
        .catch(err => { debugger; console.error(err) });
        /* RETURN DATA : "SINGLE-NFT ASSET"
            EXAMPLE: https://docs.opensea.io/reference/retrieving-a-single-asset
         RETURN DATA */
     }
     function getNFTs(owner){
         //OpenSea API: fetch('https://api.opensea.io/api/v1/assets?owner={ownerAddress}&order_direction=desc&offset=0&limit=20', options)
        fetch(`https://api.opensea.io/api/v1/assets?owner=${owner}&order_direction=desc&offset=0&limit=20`,{method: 'GET'})
        .then(response => { return response.json() })
        .then((data) => { //debugger; console.log(data);
            showNFTs(data.assets)
        })
        .catch(err => {debugger; console.error(err)});
        /* RETURN DATA : "MULTIPLE NFT - ASSETS"
            EXAMPLE: https://docs.opensea.io/reference/getting-assets
         RETURN DATA */
    }
    function getNFTCollections(owner){
         //OpenSea API: fetch('https://api.opensea.io/api/v1/collections?offset=0&limit=300',{method: 'GET'})
        fetch(`https://api.opensea.io/api/v1/collections?asset_owner=${owner}&offset=0&limit=300`,{method: 'GET'})
        .then(response => response.json())
        .then((collections) => { //debugger; //console.log(collections);
            showNFTCollections(collections)
        })
        .catch(err => {debugger; console.error(err)});    
         /* RETURN DATA : "COLLECTIONS" 
            EXAMPLE: https://docs.opensea.io/reference/retrieving-collections
          RETURN DATA   */ 
    }
/***************************************************************************************************\
 * HIDEDATA or OVERRIDEDATA - use tgt keys to HIDE items here-. Or change them. - : )
\***************************************************************************************************/
    let HIDENFTTGTs = [{key:'id',tgt:'268592'},{key:'id',tgt:'91019'}]
    let HIDECOLLECTIONTGTs = [{key:'image_url',tgt:'https://lh3.googleusercontent.com/C272ZRW1RGGef9vKMePFSCeKc1Lw6U40wl9ofNVxzUxFdj84hH9xJRQNf-7wgs7W8qw8RWe-1ybKp-VKuU5D-tg=s60'}] 

/***************************************************************************************************\
 * SHOWDATA - all types of data displayFunctions here-. - : )
\***************************************************************************************************/
    function showNFTs(assets){ //debugger; //TODO switch by DISPLAY-FACTORY-.
        let hidden = 0
        for(let nft of assets){ //console.log("displaying",nft.id)
            hidden = 0; //console.log("HIDE ME",nft.name,nft.id)
            for(let item of HIDENFTTGTs){
                if( nft[item.key].toString() === item.tgt ){  
                    console.log("hidden",item.tgt) //HIDE ITEM
                    hidden = 1;  break;
                } 
            }
            if(!hidden){ createArtCard(nft) }
        }       
    }
    function showNFTCollections(collections){ //debugger; //TODO switch by DISPLAY-FACTORY-.
        let hidden = 0
        for(let collection of collections){ //console.log("displaying",nft.id)
            hidden = 0; //console.log("HIDE ME",collection.name,collection.id)
            for(let item of HIDECOLLECTIONTGTs){
                if( collection[item.key].toString() === item.tgt ){  
                    console.log("hidden",item.tgt) //HIDE ITEM
                    hidden = 1;  break;
                } 
            }
            if(!hidden){ createTitleCard(collection) }
        }          
    }
    function createArtCard(nft){
        let artFrame = document.createElement('section');
        artFrame.style.backgroundColor = 'black';
        let artCard = document.createElement('article');
        artCard.style.backgroundColor = getRandoColor();
        artCard.style.border = "1px solid steelblue"
        artCard.style.borderRadius = "13px"
        artCard.style.padding = "0.888em"
        artCard.style.margin = "0.88em auto"
        artCard.style.maxWidth = "36em"
        let artCardIMG = document.createElement('img'); //IMG
        artCardIMG.style.padding = "0.888em"
        artCardIMG.style.width = "88.8%"
        artCardIMG.style.maxWidth = "33em"
        artCardIMG.style.boxShadow = `2px 2px 8px 4px ${getRandoColor()}`
        artCardIMG.style.borderRadius = "4px"
        artCardIMG.style.marginBottom = "1em"
        artCardIMG.src = nft.image_url;   //large 600 size  //OTHER IMAGE TYPES HERE:
        // artCardIMG.src = nft.image_original_url; //giant original size
        // artCardIMG.src = nft.image_preview_url;      //medium 350 size
        // artCardIMG.src = nft.image_thumbnail_url;   //small 200 size
        artCard.insertAdjacentElement('afterbegin', artCardIMG);
        let artCardSuperTitle = document.createElement('section'); //Title 1
        artCardSuperTitle.style.padding = "0.444em"
        artCardSuperTitle.style.borderRadius = "13px"
        artCardSuperTitle.style.border = "1px solid steelblue"
        artCardSuperTitle.innerText = nft.name; //NAME
        artCardSuperTitle.style.backgroundColor = "#05112a"
        let artCardSubTitle = document.createElement('section'); //Title 2
        artCardSubTitle.style.padding = "0.111em"
        artCardSubTitle.innerText = "..."; //NAME
        artCardSubTitle.style.textShadow = "1px 2px 1px black";
        if (artCard) { artCard.insertAdjacentElement('beforeend',artCardSuperTitle); }
        if (artCard) { artCard.insertAdjacentElement('beforeend',artCardSubTitle); }
        if (artFrame && artCard) { artFrame.insertAdjacentElement('beforeend', artCard); }
        if (nftDisplay1) { nftDisplay1.insertAdjacentElement('beforeend', artFrame); }
    }
    function createTitleCard(nftCollection){
        let artFrame = document.createElement('section');
        artFrame.style.backgroundColor = 'black';
        var artCard = document.createElement('article');
        artCard.style.backgroundColor = getRandoColor();
        artCard.style.border = "1px solid steelblue"
        artCard.style.borderRadius = "13px"
        artCard.style.padding = "0.888em"
        artCard.style.margin = "0.88em auto"
        artCard.style.maxWidth = "36em"
        // artCard.innerText = nftCollection.name; //NAME
        var artCardIMG1 = document.createElement('img'); //IMG  //OTHER IMAGE TYPES HERE
        artCardIMG1.src = nftCollection.image_url;   //large 600 size
        artCardIMG1.style.borderRadius = "100%"
        artCardIMG1.style.marginLeft = "-22%"
        artCardIMG1.style.width = "17%"
        // artCardIMG.src = nftCollection.banner_image_url;   //Collection BANNER size 1020+
        var artCardIMG2 = document.createElement('img'); //IMG  //OTHER IMAGE TYPES HERE
        artCardIMG2.src = nftCollection.featured_image_url;   //large 600 size
        artCardIMG2.style.width = "55%"
        artCardIMG2.style.boxShadow = `2px 2px 8px 4px ${getRandoColor()}`
        artCardIMG2.style.borderRadius = "4px"
        artCardIMG2.style.marginBottom = "1em"
        // artCardIMG.src = nftCollection.image_original_url; //giant original size ~
        // artCardIMG.src = nftCollection.image_preview_url;      //medium 350 size
        // artCardIMG.src = nftCollection.image_thumbnail_url;   //small 200 size
        artCard.insertAdjacentElement('afterbegin', artCardIMG1);
        artCard.insertAdjacentElement('afterbegin', artCardIMG2);
        let artCardSuperTitle = document.createElement('section'); //Title 1
        artCardSuperTitle.style.padding = "0.444em"
        artCardSuperTitle.style.borderRadius = "13px"
        artCardSuperTitle.style.border = "1px solid steelblue"
        artCardSuperTitle.innerText = nftCollection.name; //NAME
        artCardSuperTitle.style.backgroundColor = "#05112a"
        let artCardSubTitle = document.createElement('section'); //Title 2
        artCardSubTitle.style.padding = "0.111em"
        artCardSubTitle.innerText = "..."; //NAME
        artCardSubTitle.style.textShadow = "1px 2px 1px black";
        if (artCard) { artCard.insertAdjacentElement('beforeend',artCardSuperTitle); }
        if (artCard) { artCard.insertAdjacentElement('beforeend',artCardSubTitle); }
        if (artFrame && artCard) { artFrame.insertAdjacentElement('beforeend', artCard); }
        if (nftDisplay1) { nftDisplay1.insertAdjacentElement('beforeend', artFrame); }
    }
/***************************************************************************************************\
 * UTILITY - all types of helperFunctions here-. - : )
\***************************************************************************************************/
    function getRandoColor(){
        const h = Math.floor(Math.random() * 344); //360
        const s = Math.floor(Math.random() * 88); //100
        const l = Math.floor(Math.random() * 88); //100
        return `hsl(${h}deg, ${s}%, ${l}%)`;
    }
/***************************************************************************************************\
 * UI interface - all types of UX/HMI/GUI userInterfaceFunctions here-. - : )
\***************************************************************************************************/    
    // getNFTBtn.addEventListener('click',()=>{  //debugger;   //GET-NFT-BUTTON!
        //***********************************************************//OpenSea API : getNFT (single)
//     statusDisplay1.innerHTML = "TEST";
    
    // try{
    //     let getNFTbyContractAndToken={  //GETNFT by Contract and tokenId.
    //         assetContractAddr:"0x495f947276749Ce646f68AC8c248420045cb7b5e", 
    //         tokenId:"32091639769859466206787752406743660124435242419967811135209154768441297600513"}
    //     // getNFT(getNFTbyContractAndToken)
    //     //****************************************************************************
    //     let getNFTSbyOwner={  //GETNFTS by Owner. - PLURAL NFTZ MULTIPLE!
    //         owner:"0x46f3397433384f2e31262596642c811929d6c069"}
    //     getNFTs(getNFTSbyOwner.owner)
    //     //*********************************************************//OpenSea API : getNFTs (multiple) 
    //     let getNFTCollectionsbyOwner={  //GETNFT Collections by Owner. - PLURAL COLLECTIONZ MULTIPLE!    
    //         owner:"0x46f3397433384f2e31262596642c811929d6c069"}   
    //     getNFTCollections(getNFTCollectionsbyOwner.owner)
    //     //****************************************************************************
    // // }); //END: GETNFT button click-.
    // }catch(e){
    //     statusDisplay1.innerHTML = "ERROR"+" no signal."; //e.message;
    // }


//         alert('ok')
    //START: INIT METAMASK BUTTON-.
}

document.addEventListener("DOMContentLoaded", ()=>{
    initPage();
    MainVw.getNFTFactory(6); //default load
})
</script>
</html>
